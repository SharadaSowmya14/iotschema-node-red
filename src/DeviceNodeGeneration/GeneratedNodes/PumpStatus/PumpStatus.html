<script type="text/javascript">
    RED.nodes.registerType('PumpStatus', {
        category: 'devicenodes',
        color: '#66FA00',
        defaults: {
        interval:{value:""},
            method:{value:""},
            name: {value: ""},
            method:{value:""},
            value:{value:""},
            username:{value:""},
            password:{value:""}
            
        },
        inputs:0,
        outputs:1,
        icon: "file.png",
        label: function () {
            return this.name || "PumpStatus";
        }
    });
</script>

<script type="text/javascript">
    function displayValue() {
        method = document.getElementById("node-input-method").value;
        if (method === "GET") {
            request_interval_div.style.display = 'inline';
        }
        else {
            request_interval_div.style.display = 'none';
        }
    }
</script>

<script type="text/x-red" data-template-name="PumpStatus">
	 <div class="form-row">
	     <label for="node-input-name" style="width:37%"><i class="icon-tag"></i> Name:</label>
         <input type="text" id="node-input-name" style="width:60%" placeholder="Name"/><br/>
         <label for="node-input-method" style="width:37%"><i class="icon-tag"></i> Method:</label>
         <select id="node-input-method" style="width:60%" onchange="displayValue()">
             <option value="GET">GET</option>
         </select><br/>
         <div id="post_body_div" style="display:none">
         	<label for="node-input-value" style="width:37%"><i class="icon-tag"></i> Value:</label>
         	<input type="text" id="node-input-value" style="width:60%" placeholder="property"/>
         </div>
         <div id="request_interval_div" style="display:inline" style="display:none">
         	<label for="node-input-interval" style="width:37%"><i class="icon-tag"></i> Interval:</label>
         	<input type="text" id="node-input-interval" style="width:60%" placeholder="seconds"/>
         </div>
         <div class="form-row" id="auth_div">
	    <label for="node-input-username" style="width:37%"><i class="icon-tag"></i> Username:</label>
            <input type="text" id="node-input-username" style="width:60%" placeholder="username" style="width:60%"/>
            <label for="node-input-password" style="width:37%"><i class="icon-tag"></i> Password:</label>
            <input type="password" id="node-input-password" style="width:60%" placeholder="password" style="width:60%"/>
         </div>
     </div>

</script>

<script type="text/x-red" data-help-name="PumpStatus">
	<p></p>

</script>
